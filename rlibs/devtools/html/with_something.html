<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Execute code in temporarily altered environment.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body>

<table width="100%" summary="page for with_something {devtools}"><tr><td>with_something {devtools}</td><td align="right">R Documentation</td></tr></table>

<h2>Execute code in temporarily altered environment.</h2>

<h3>Description</h3>

 <ul>
<li> <p><code>in_dir</code>: working directory </p>
</li>
<li>
<p><code>with_collate</code>: collation order </p>
</li>
<li>
<p><code>with_envvar</code>: environmental variables </p>
</li>
<li>
<p><code>with_libpaths</code>: library paths, replacing current
libpaths </p>
</li>
<li> <p><code>with_lib</code>: library paths, prepending
to current libpaths </p>
</li>
<li> <p><code>with_locale</code>: any locale
setting </p>
</li>
<li> <p><code>with_options</code>: options </p>
</li>
<li>
<p><code>with_path</code>: PATH environment variable </p>
</li>
<li>
<p><code>with_par</code>: graphics parameters </p>
</li></ul>



<h3>Usage</h3>

<pre>
  with_envvar(new, code, action = "replace")

  with_env(new, code)

  with_locale(new, code)

  with_collate(new, code)

  in_dir(new, code)

  with_libpaths(new, code)

  with_lib(new, code)

  with_options(new, code)

  with_par(new, code)

  with_path(new, code, add = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>new</code></td>
<td>
<p>values for setting</p>
</td></tr>
<tr valign="top"><td><code>code</code></td>
<td>
<p>code to execute in that environment</p>
</td></tr>
<tr valign="top"><td><code>action</code></td>
<td>
<p>(for <code>with_envvar</code> only): should new
values <code>"replace"</code>, <code>"suffix"</code>, <code>"prefix"</code>
existing environmental variables with the same name.</p>
</td></tr>
<tr valign="top"><td><code>add</code></td>
<td>
<p>Combine with existing values? Currently for
<code><a href="with_something.html">with_path</a></code> only. If <code>FALSE</code> all
existing paths are ovewritten, which don't you usually
want.</p>
</td></tr>
</table>


<h3>Deprecation</h3>

<p><code>with_env</code> will be deprecated in devtools 1.2 and
removed in devtools 1.3
</p>


<h3>Examples</h3>

<pre>
getwd()
in_dir(tempdir(), getwd())
getwd()

Sys.getenv("HADLEY")
with_envvar(c("HADLEY" = 2), Sys.getenv("HADLEY"))
Sys.getenv("HADLEY")

with_envvar(c("A" = 1),
  with_envvar(c("A" = 2), action = "suffix", Sys.getenv("A"))
)
</pre>

<hr><div align="center">[Package <em>devtools</em> version 1.3 <a href="00Index.html">Index</a>]</div>
</body></html>
